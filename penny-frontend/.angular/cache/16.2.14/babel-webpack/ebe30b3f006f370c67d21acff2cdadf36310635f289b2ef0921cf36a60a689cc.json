{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/services\";\nconst _c0 = function () {\n  return [\"/auth/signup\"];\n};\nexport class LoginComponent {\n  constructor(router, userService) {\n    this.router = router;\n    this.userService = userService;\n    this.isSubmitting = false;\n    this.loginForm = new FormGroup({\n      username: new FormControl('', [Validators.required]),\n      password: new FormControl('', [Validators.required, Validators.minLength(6)])\n    });\n  }\n  onLogin() {\n    this.isSubmitting = true;\n    const credentials = this.loginForm.value;\n    this.userService.attemptAuth('signin', credentials).subscribe({\n      next: data => this.router.navigateByUrl('/'),\n      error: error => {\n        this.isSubmitting = false;\n      }\n    });\n  }\n  showErrors(formProperty) {\n    const controler = this.loginForm.controls[formProperty];\n    if ((controler.touched || controler.dirty) && controler.errors) {\n      if (controler.errors['required']) {\n        return `${formProperty} must required`;\n      } else if (controler.errors['minlength']) {\n        return `${formProperty} have Insufficient Length`;\n      }\n      return '';\n    }\n    return '';\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 24,\n    vars: 7,\n    consts: [[1, \"row\"], [1, \"col-md-6\", \"offset-md-3\"], [3, \"formGroup\", \"ngSubmit\"], [3, \"disabled\"], [1, \"mb-3\"], [\"for\", \"username\"], [\"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\"], [1, \"invalid-feedbackk\"], [\"for\", \"password\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"type\", \"submit\", 1, \"mx-3\", \"btn\", \"btn-primary\", 2, \"float\", \"right\", 3, \"routerLink\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n        i0.ɵɵtext(3, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"hr\");\n        i0.ɵɵelementStart(5, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.onLogin();\n        });\n        i0.ɵɵelementStart(6, \"fieldset\", 3)(7, \"div\", 4)(8, \"label\", 5);\n        i0.ɵɵtext(9, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"input\", 6);\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\", 8);\n        i0.ɵɵtext(15, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"input\", 9);\n        i0.ɵɵelementStart(17, \"div\", 7);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 4)(20, \"button\", 10);\n        i0.ɵɵtext(21, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"button\", 11);\n        i0.ɵɵtext(23, \"Go to Signup\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.isSubmitting);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" \", ctx.showErrors(\"username\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" \", ctx.showErrors(\"password\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.loginForm.invalid);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(6, _c0));\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["FormControl","FormGroup","Validators","LoginComponent","constructor","router","userService","isSubmitting","loginForm","username","required","password","minLength","onLogin","credentials","value","attemptAuth","subscribe","next","data","navigateByUrl","error","showErrors","formProperty","controler","controls","touched","dirty","errors","_","i0","ɵɵdirectiveInject","i1","Router","i2","UserService","_2","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","LoginComponent_Template_form_ngSubmit_5_listener","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate1","invalid","ɵɵpureFunction0","_c0"],"sources":["C:\\Huzaifa\\Penny\\penny-frontend\\src\\app\\auth\\components\\login\\login.component.ts","C:\\Huzaifa\\Penny\\penny-frontend\\src\\app\\auth\\components\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { UserService } from 'src/app/core/services';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss'],\n})\nexport class LoginComponent {\n  loginForm!: FormGroup;\n  isSubmitting: boolean = false;\n\n  constructor(private router: Router, private userService: UserService) {\n    this.loginForm = new FormGroup({\n      username: new FormControl('', [Validators.required]),\n      password: new FormControl('', [\n        Validators.required,\n        Validators.minLength(6),\n      ]),\n    });\n  }\n\n  onLogin() {\n    this.isSubmitting = true;\n    const credentials = this.loginForm.value;\n    this.userService.attemptAuth('signin', credentials).subscribe({\n      next: (data: any) => this.router.navigateByUrl('/'),\n      error: (error: any) => {\n        this.isSubmitting = false;\n      },\n    });\n  }\n\n  showErrors(formProperty: string): string {\n    const controler: any = this.loginForm.controls[formProperty];\n    if ((controler.touched || controler.dirty) && controler.errors) {\n      if (controler.errors['required']) {\n        return `${formProperty} must required`;\n      } else if (controler.errors['minlength']) {\n        return `${formProperty} have Insufficient Length`;\n      }\n      return '';\n    }\n    return '';\n  }\n}\n","<div class=\"row\">\n    <div class=\"col-md-6 offset-md-3\">\n        <h3>Login</h3>\n        <hr />\n        <form [formGroup]=\"loginForm\" (ngSubmit)=\"onLogin()\">\n            <fieldset [disabled]=\"isSubmitting\">\n           \n                <div class=\"mb-3\">\n                    <label for=\"username\">Username</label>\n                    <input type=\"text\" class=\"form-control\" formControlName=\"username\"/>\n                    <div class=\"invalid-feedbackk\">\n                        {{ showErrors('username')}}\n                    </div>\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"password\">Password</label>\n                    <input type=\"password\" class=\"form-control\" formControlName=\"password\"/>\n                    <div class=\"invalid-feedbackk\">\n                        {{ showErrors('password')}}\n                    </div>\n                </div>\n\n                <div class=\"mb-3\">\n                    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"loginForm.invalid\">Login</button>\n                    <button type=\"submit\" style=\"float: right;\" class=\"mx-3 btn btn-primary\" [routerLink]=\"['/auth/signup']\">Go to Signup</button>\n                </div>\n            </fieldset>\n        </form>\n    </div>\n</div>"],"mappings":"AACA,SAASA,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;;;;;;;AASnE,OAAM,MAAOC,cAAc;EAIzBC,YAAoBC,MAAc,EAAUC,WAAwB;IAAhD,KAAAD,MAAM,GAANA,MAAM;IAAkB,KAAAC,WAAW,GAAXA,WAAW;IAFvD,KAAAC,YAAY,GAAY,KAAK;IAG3B,IAAI,CAACC,SAAS,GAAG,IAAIP,SAAS,CAAC;MAC7BQ,QAAQ,EAAE,IAAIT,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACQ,QAAQ,CAAC,CAAC;MACpDC,QAAQ,EAAE,IAAIX,WAAW,CAAC,EAAE,EAAE,CAC5BE,UAAU,CAACQ,QAAQ,EACnBR,UAAU,CAACU,SAAS,CAAC,CAAC,CAAC,CACxB;KACF,CAAC;EACJ;EAEAC,OAAOA,CAAA;IACL,IAAI,CAACN,YAAY,GAAG,IAAI;IACxB,MAAMO,WAAW,GAAG,IAAI,CAACN,SAAS,CAACO,KAAK;IACxC,IAAI,CAACT,WAAW,CAACU,WAAW,CAAC,QAAQ,EAAEF,WAAW,CAAC,CAACG,SAAS,CAAC;MAC5DC,IAAI,EAAGC,IAAS,IAAK,IAAI,CAACd,MAAM,CAACe,aAAa,CAAC,GAAG,CAAC;MACnDC,KAAK,EAAGA,KAAU,IAAI;QACpB,IAAI,CAACd,YAAY,GAAG,KAAK;MAC3B;KACD,CAAC;EACJ;EAEAe,UAAUA,CAACC,YAAoB;IAC7B,MAAMC,SAAS,GAAQ,IAAI,CAAChB,SAAS,CAACiB,QAAQ,CAACF,YAAY,CAAC;IAC5D,IAAI,CAACC,SAAS,CAACE,OAAO,IAAIF,SAAS,CAACG,KAAK,KAAKH,SAAS,CAACI,MAAM,EAAE;MAC9D,IAAIJ,SAAS,CAACI,MAAM,CAAC,UAAU,CAAC,EAAE;QAChC,OAAO,GAAGL,YAAY,gBAAgB;OACvC,MAAM,IAAIC,SAAS,CAACI,MAAM,CAAC,WAAW,CAAC,EAAE;QACxC,OAAO,GAAGL,YAAY,2BAA2B;;MAEnD,OAAO,EAAE;;IAEX,OAAO,EAAE;EACX;EAAC,QAAAM,CAAA,G;qBApCU1B,cAAc,EAAA2B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,MAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,WAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAdjC,cAAc;IAAAkC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCV3Bb,EAAA,CAAAe,cAAA,aAAiB;QAELf,EAAA,CAAAgB,MAAA,YAAK;QAAAhB,EAAA,CAAAiB,YAAA,EAAK;QACdjB,EAAA,CAAAkB,SAAA,SAAM;QACNlB,EAAA,CAAAe,cAAA,cAAqD;QAAvBf,EAAA,CAAAmB,UAAA,sBAAAC,iDAAA;UAAA,OAAYN,GAAA,CAAA/B,OAAA,EAAS;QAAA,EAAC;QAChDiB,EAAA,CAAAe,cAAA,kBAAoC;QAGNf,EAAA,CAAAgB,MAAA,eAAQ;QAAAhB,EAAA,CAAAiB,YAAA,EAAQ;QACtCjB,EAAA,CAAAkB,SAAA,gBAAoE;QACpElB,EAAA,CAAAe,cAAA,cAA+B;QAC3Bf,EAAA,CAAAgB,MAAA,IACJ;QAAAhB,EAAA,CAAAiB,YAAA,EAAM;QAEVjB,EAAA,CAAAe,cAAA,cAAkB;QACQf,EAAA,CAAAgB,MAAA,gBAAQ;QAAAhB,EAAA,CAAAiB,YAAA,EAAQ;QACtCjB,EAAA,CAAAkB,SAAA,gBAAwE;QACxElB,EAAA,CAAAe,cAAA,cAA+B;QAC3Bf,EAAA,CAAAgB,MAAA,IACJ;QAAAhB,EAAA,CAAAiB,YAAA,EAAM;QAGVjB,EAAA,CAAAe,cAAA,cAAkB;QAC+Df,EAAA,CAAAgB,MAAA,aAAK;QAAAhB,EAAA,CAAAiB,YAAA,EAAS;QAC3FjB,EAAA,CAAAe,cAAA,kBAAyG;QAAAf,EAAA,CAAAgB,MAAA,oBAAY;QAAAhB,EAAA,CAAAiB,YAAA,EAAS;;;QApBpIjB,EAAA,CAAAqB,SAAA,GAAuB;QAAvBrB,EAAA,CAAAsB,UAAA,cAAAR,GAAA,CAAApC,SAAA,CAAuB;QACfsB,EAAA,CAAAqB,SAAA,GAAyB;QAAzBrB,EAAA,CAAAsB,UAAA,aAAAR,GAAA,CAAArC,YAAA,CAAyB;QAMvBuB,EAAA,CAAAqB,SAAA,GACJ;QADIrB,EAAA,CAAAuB,kBAAA,MAAAT,GAAA,CAAAtB,UAAA,kBACJ;QAMIQ,EAAA,CAAAqB,SAAA,GACJ;QADIrB,EAAA,CAAAuB,kBAAA,MAAAT,GAAA,CAAAtB,UAAA,kBACJ;QAI8CQ,EAAA,CAAAqB,SAAA,GAA8B;QAA9BrB,EAAA,CAAAsB,UAAA,aAAAR,GAAA,CAAApC,SAAA,CAAA8C,OAAA,CAA8B;QACHxB,EAAA,CAAAqB,SAAA,GAA+B;QAA/BrB,EAAA,CAAAsB,UAAA,eAAAtB,EAAA,CAAAyB,eAAA,IAAAC,GAAA,EAA+B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}